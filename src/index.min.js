document.body.insertAdjacentHTML("beforeend",'<div id="BIGSURMODAL-CONTAINER"></div>');var BSM_modalShowing=!1,BSM_queue=[];function BigSurModal(e){try{if(this.title=e.title,!e.title)throw new Error("BIG SUR MODAL: Modal needs a title.")}catch(e){return console.error(e)}try{if(this.description=e.description,!e.description)throw new Error("BIG SUR MODAL: Modal needs a description.")}catch(e){return console.error(e)}try{if(this.buttonContent=e.buttons,!e.buttons)throw new Error("BIG SUR MODAL: Modal needs buttons.")}catch(e){return console.error(e)}e.theme?this.theme=e.theme:(this.theme="BSM_theme_light",e.theme="BSM_theme_light"),e.appIcon?this.appIcon=e.appIcon:(this.appIcon="console_logo.png",e.appIcon="console_logo.png"),this.show=function(){this.createdModal=BSM_CreateModal(e.title,e.description,e.buttons,e.appIcon,e.theme)},this.close=function(){try{if(BSM_DestroyModal(this.createdModal),!this.createdModal)throw new Error("BIG SUR MODAL: There are no modals currently open to close.")}catch(e){console.error(e)}}}var cont=document.getElementById("BIGSURMODAL-CONTAINER");function BSM_CreateModal(e,t,o,n,r){let l="";for(let e=0;e<o.length;e++){if(o.length>=3)var i="vertical";else i="";o[e].default||(o[e].default=!1);try{if(!o[e].name)throw new Error("BIG SUR MODAL: Button "+e+" needs a name.");o[e].function||(o[e].function="BSM_DestroyModal()"),l+=`<button onclick="${o[e].function};BSM_DestroyModal()" class="BSM-btn ${o[e].default}">${o[e].name}</button>`}catch(e){console.error(e)}}var s=`\n    <div class="BSM-appicon">\n        <img src="${n}">\n    </div>\n    <h1 class="BSM-title">${e}</h1>\n    <h2 class="BSM-description">${t}</h1>\n    <div class="BSM-btns ${i}">\n        ${l}\n    </div>\n    `;if(0==BSM_modalShowing)BSM_modalShowing=!0;else if(BSM_modalShowing=!0)return BSM_queue.push(s);let a=BSM_CreateModalHelper(s,r);return BSM_SetClose(a),a}function BSM_CreateModalHelper(e,t){let o=document.createElement("DIV");return o.innerHTML=e,o.classList.add("BSM-modal"),o.classList.add("BSM_theme_"+t),cont.appendChild(o),cont.classList.add("overlay"),console.log(o),o}function BSM_SetClose(e,t){e.onkeypress=(e=>{13==e.keyCode?t.click():27==e.keyCode&&t.click()})}function BSM_DestroyModal(){let e=cont.children[0];console.log(e),e.style.animationName="comeout",BSM_modalShowing=!1,cont.classList.remove("overlay"),setTimeout(function(){e.remove()},80),0!=BSM_queue.length&&(BSM_CreateModalFromQueue(BSM_queue[0]),console.log("Modal successfully closed"))}function BSM_CreateModalFromQueue(e){setTimeout(()=>{BSM_CreateModalHelper(e),BSM_queue.shift()},100)}
